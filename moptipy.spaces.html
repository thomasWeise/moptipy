<!doctype html><html data-content_root=./ lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0"name=viewport><meta content="width=device-width,initial-scale=1"name=viewport><title>moptipy.spaces package — moptipy 0.9.172 documentation</title><link href="/moptipy/_static/pygments.css?v=b86133f3"rel=stylesheet><link href="/moptipy/_static/bizstyle.css?v=5283bb3d"rel=stylesheet><script src="/moptipy/_static/documentation_options.js?v=ad8658f5"></script><script src="/moptipy/_static/doctools.js?v=9bcbadda"></script><script src="/moptipy/_static/sphinx_highlight.js?v=dc90522c"></script><script src=_static/bizstyle.js></script><link href=https://thomasweise.github.io/moptipy/moptipy.spaces.html rel=canonical><link href=genindex.html rel=index title=Index><link href=search.html rel=search title=Search><link title="moptipy.tests package"href=moptipy.tests.html rel=next><link title="moptipy.operators.vectors package"href=moptipy.operators.vectors.html rel=prev><meta content="width=device-width,initial-scale=1.0"name=viewport><body><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"accesskey=I href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="moptipy.tests package"accesskey=N href=moptipy.tests.html>next</a> |<li class=right><a title="moptipy.operators.vectors package"accesskey=P href=moptipy.operators.vectors.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>moptipy 0.9.172 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>moptipy</a> »<li class="nav-item nav-item-2"><a accesskey=U href=moptipy.html>moptipy package</a> »<li class="nav-item nav-item-this"><a href>moptipy.spaces package</a></ul></div><div class=document><div class=documentwrapper><div class=bodywrapper><div class=body role=main><section id=module-moptipy.spaces><span id=moptipy-spaces-package></span><h1>moptipy.spaces package<a title="Link to this heading"class=headerlink href=#module-moptipy.spaces>¶</a></h1><p>In this package, some pre-defined search and solution spaces are provided.<p>These spaces implement the base class <a class="reference internal"href=moptipy.api.html#moptipy.api.space.Space title=moptipy.api.space.Space><code class="xref py py-class docutils literal notranslate"><span class=pre>Space</span></code></a>, which defines the API for creating, copying, storing, and comparing (for equality) of data structures that can be used to represent either points in the search space or candidate solutions in the solution space.<p>The following pre-defined spaces are currently available:<ul class=simple><li><p><a class="reference internal"href=#moptipy.spaces.bitstrings.BitStrings title=moptipy.spaces.bitstrings.BitStrings><code class="xref py py-class docutils literal notranslate"><span class=pre>BitStrings</span></code></a>, the space of <cite>n</cite>-dimensional bit strings<li><p><a class="reference internal"href=#moptipy.spaces.intspace.IntSpace title=moptipy.spaces.intspace.IntSpace><code class="xref py py-class docutils literal notranslate"><span class=pre>IntSpace</span></code></a>, a space of <cite>n</cite>-dimensional integer strings, where each element is between (and including) a minimum and a maximum value (inclusive)<li><p><a class="reference internal"href=#moptipy.spaces.permutations.Permutations title=moptipy.spaces.permutations.Permutations><code class="xref py py-class docutils literal notranslate"><span class=pre>Permutations</span></code></a> is a special version of the <a class="reference internal"href=#moptipy.spaces.intspace.IntSpace title=moptipy.spaces.intspace.IntSpace><code class="xref py py-class docutils literal notranslate"><span class=pre>IntSpace</span></code></a> where all elements are permutations of a base string <a class="reference internal"href=#moptipy.spaces.permutations.Permutations.blueprint title=moptipy.spaces.permutations.Permutations.blueprint><code class="xref py py-attr docutils literal notranslate"><span class=pre>blueprint</span></code></a>. This means that it can represent permutations both with and without repetitions. Depending on the base string, each element may occur an element-specific number of times. For the base string <cite>(-1, -1, 2, 7, 7, 7)</cite>, for example, <cite>-1</cite> may occur twice, <cite>2</cite> can occur once, and <cite>7</cite> three times.<li><p><a class="reference internal"href=#moptipy.spaces.ordered_choices.OrderedChoices title=moptipy.spaces.ordered_choices.OrderedChoices><code class="xref py py-class docutils literal notranslate"><span class=pre>OrderedChoices</span></code></a> is a combination of permutations and combinations. There are <cite>n</cite> choices of one or multiple different values each. The choices are either disjoint or identical. An element from the space picks one value per choice. The order of the elements matters.<li><p><a class="reference internal"href=#moptipy.spaces.vectorspace.VectorSpace title=moptipy.spaces.vectorspace.VectorSpace><code class="xref py py-class docutils literal notranslate"><span class=pre>VectorSpace</span></code></a> is the space of <cite>n</cite>-dimensional floating point number vectors</ul><section id=submodules><h2>Submodules<a title="Link to this heading"class=headerlink href=#submodules>¶</a></h2></section><section id=module-moptipy.spaces.bitstrings><span id=moptipy-spaces-bitstrings-module></span><h2>moptipy.spaces.bitstrings module<a title="Link to this heading"class=headerlink href=#module-moptipy.spaces.bitstrings>¶</a></h2><p>An implementation of a bit string based search space.<dl class="py class"><dt class="sig sig-object py"id=moptipy.spaces.bitstrings.BitStrings><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.bitstrings.</span></span><span class="sig-name descname"><span class=pre>BitStrings</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>dimension</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/bitstrings.html#BitStrings><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.bitstrings.BitStrings>¶</a><dd><p>Bases: <a class="reference internal"href=#moptipy.spaces.nparrayspace.NPArraySpace title=moptipy.spaces.nparrayspace.NPArraySpace><code class="xref py py-class docutils literal notranslate"><span class=pre>NPArraySpace</span></code></a></p> <p>A space where each element is a bit string (<a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a>).</p> <p>With such a space, discrete optimization can be realized.</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>BitStrings</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>dimension</span><span class=p>)</span>
<span class=go>5</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>dtype</span><span class=p>)</span>
<span class=go>bool</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>create</span><span class=p>())</span>
<span class=go>[False False False False False]</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>create</span><span class=p>()))</span>
<span class=go>FFFFF</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>from_str</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>create</span><span class=p>())))</span>
<span class=go>[False False False False False]</span>
</pre></div></div> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.bitstrings.BitStrings.create><span class="sig-name descname"><span class=pre>create</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/bitstrings.html#BitStrings.create><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.bitstrings.BitStrings.create>¶</a><dd><p>Create a bit string filled with <cite>False</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the string</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipy.spaces.bitstrings</span><span class=w> </span><span class=kn>import</span> <span class=n>BitStrings</span>
<span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>BitStrings</span><span class=p>(</span><span class=mi>8</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>v</span> <span class=o>=</span> <span class=n>s</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>v</span><span class=p>))</span>
<span class=go>FFFFFFFF</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=o>.</span><span class=n>dtype</span><span class=p>)</span>
<span class=go>bool</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.bitstrings.BitStrings.from_hex_string><span class="sig-name descname"><span class=pre>from_hex_string</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em>, <em class=sig-param><span class=n><span class=pre>s</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/bitstrings.html#BitStrings.from_hex_string><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.bitstrings.BitStrings.from_hex_string>¶</a><dd><p>Convert a hexadecimal number to a numpy bit string.</p> <p>The reverse operator is given as <a class="reference internal"href=#moptipy.spaces.bitstrings.BitStrings.to_hex_string title=moptipy.spaces.bitstrings.BitStrings.to_hex_string><code class="xref py py-meth docutils literal notranslate"><span class=pre>to_hex_string()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the bit string destination<li><p><strong>s</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the string to convert</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>b</span> <span class=o>=</span> <span class=n>BitStrings</span><span class=p>(</span><span class=mi>134</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>x1</span> <span class=o>=</span> <span class=n>b</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>x1</span><span class=p>[:]</span> <span class=o>=</span> <span class=p>[((</span><span class=n>i</span> <span class=o>%</span> <span class=mi>3</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=o>!=</span> <span class=p>((</span><span class=n>i</span> <span class=o>%</span> <span class=mi>7</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
<span class=gp>... </span>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>b</span><span class=o>.</span><span class=n>dimension</span><span class=p>)]</span>
<span class=gp>>>> </span><span class=n>x2</span> <span class=o>=</span> <span class=n>b</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>from_hex_string</span><span class=p>(</span><span class=n>x2</span><span class=p>,</span> <span class=n>b</span><span class=o>.</span><span class=n>to_hex_string</span><span class=p>(</span><span class=n>x1</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>is_equal</span><span class=p>(</span><span class=n>x1</span><span class=p>,</span> <span class=n>x2</span><span class=p>)</span>
<span class=go>True</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.bitstrings.BitStrings.from_rle_str><span class="sig-name descname"><span class=pre>from_rle_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em>, <em class=sig-param><span class=n><span class=pre>s</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/bitstrings.html#BitStrings.from_rle_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.bitstrings.BitStrings.from_rle_str>¶</a><dd><p>Convert a run-length encoded string to a numpy bit string.</p> <p>The reverse operator is given as <a class="reference internal"href=#moptipy.spaces.bitstrings.BitStrings.to_rle_str title=moptipy.spaces.bitstrings.BitStrings.to_rle_str><code class="xref py py-meth docutils literal notranslate"><span class=pre>to_rle_str()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>s</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – string to convert<li><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the bit string destination</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>b</span> <span class=o>=</span> <span class=n>BitStrings</span><span class=p>(</span><span class=mi>134</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>x1</span> <span class=o>=</span> <span class=n>b</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>x1</span><span class=p>[:]</span> <span class=o>=</span> <span class=p>[((</span><span class=n>i</span> <span class=o>%</span> <span class=mi>3</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=o>!=</span> <span class=p>((</span><span class=n>i</span> <span class=o>%</span> <span class=mi>7</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
<span class=gp>... </span>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>b</span><span class=o>.</span><span class=n>dimension</span><span class=p>)]</span>
<span class=gp>>>> </span><span class=n>x2</span> <span class=o>=</span> <span class=n>b</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>from_hex_string</span><span class=p>(</span><span class=n>x2</span><span class=p>,</span> <span class=n>b</span><span class=o>.</span><span class=n>to_hex_string</span><span class=p>(</span><span class=n>x1</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>all</span><span class=p>(</span><span class=n>x1</span> <span class=o>==</span> <span class=n>x2</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>x1</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span> <span class=o>=</span> <span class=ow>not</span> <span class=n>x1</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>from_hex_string</span><span class=p>(</span><span class=n>x2</span><span class=p>,</span> <span class=n>b</span><span class=o>.</span><span class=n>to_hex_string</span><span class=p>(</span><span class=n>x1</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>all</span><span class=p>(</span><span class=n>x1</span> <span class=o>==</span> <span class=n>x2</span><span class=p>)</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>b</span> <span class=o>=</span> <span class=n>BitStrings</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>x1</span> <span class=o>=</span> <span class=n>b</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>x2</span> <span class=o>=</span> <span class=n>b</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>x1</span><span class=o>.</span><span class=n>fill</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>from_hex_string</span><span class=p>(</span><span class=n>x2</span><span class=p>,</span> <span class=n>b</span><span class=o>.</span><span class=n>to_hex_string</span><span class=p>(</span><span class=n>x1</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>all</span><span class=p>(</span><span class=n>x1</span> <span class=o>==</span> <span class=n>x2</span><span class=p>)</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>x1</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>from_hex_string</span><span class=p>(</span><span class=n>x2</span><span class=p>,</span> <span class=n>b</span><span class=o>.</span><span class=n>to_hex_string</span><span class=p>(</span><span class=n>x1</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>all</span><span class=p>(</span><span class=n>x1</span> <span class=o>==</span> <span class=n>x2</span><span class=p>)</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>x1</span><span class=o>.</span><span class=n>fill</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>from_hex_string</span><span class=p>(</span><span class=n>x2</span><span class=p>,</span> <span class=n>b</span><span class=o>.</span><span class=n>to_hex_string</span><span class=p>(</span><span class=n>x1</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>all</span><span class=p>(</span><span class=n>x1</span> <span class=o>==</span> <span class=n>x2</span><span class=p>)</span>
<span class=go>True</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.bitstrings.BitStrings.from_str><span class="sig-name descname"><span class=pre>from_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>text</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/bitstrings.html#BitStrings.from_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.bitstrings.BitStrings.from_str>¶</a><dd><p>Convert a string to a bit string.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>text</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the text</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the vector</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>text</cite> is not a <cite>str</cite><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if <cite>text</cite> cannot be converted to a valid vector</ul></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.bitstrings.BitStrings.n_points><span class="sig-name descname"><span class=pre>n_points</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/bitstrings.html#BitStrings.n_points><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.bitstrings.BitStrings.n_points>¶</a><dd><p>Get the scale of the bit string space.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>2 ** dimension</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>BitStrings</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>
<span class=go>16</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.bitstrings.BitStrings.to_hex_string><span class="sig-name descname"><span class=pre>to_hex_string</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/bitstrings.html#BitStrings.to_hex_string><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.bitstrings.BitStrings.to_hex_string>¶</a><dd><p>Convert a bit string to a hexadecimal number.</p> <p>The reverse operator is given as <a class="reference internal"href=#moptipy.spaces.bitstrings.BitStrings.from_hex_string title=moptipy.spaces.bitstrings.BitStrings.from_hex_string><code class="xref py py-meth docutils literal notranslate"><span class=pre>from_hex_string()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the bit string</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the hexadecimal number</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>b</span> <span class=o>=</span> <span class=n>BitStrings</span><span class=p>(</span><span class=mi>134</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>xt</span> <span class=o>=</span> <span class=n>b</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>xt</span><span class=p>[:]</span> <span class=o>=</span> <span class=p>[((</span><span class=n>i</span> <span class=o>%</span> <span class=mi>3</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=o>!=</span> <span class=p>((</span><span class=n>i</span> <span class=o>%</span> <span class=mi>7</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
<span class=gp>... </span>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>b</span><span class=o>.</span><span class=n>dimension</span><span class=p>)]</span>
<span class=gp>>>> </span><span class=s2>""</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>reversed</span><span class=p>(</span><span class=n>b</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>xt</span><span class=p>)))</span>
<span class=go>'TTFFTFFFFFTFFTTFTFFTFTTFFTFFFFFTFFTTFTFFTFTTFFTFFFFFTFFTTFTFFTFTTFFTFFFFFTFFTTFTFFTFTTFFTFFFFFTFFTTFTFFTFTTFFTFFFFFTFFTTFTFFTFTTFFTFFF'</span>
<span class=gp>>>> </span><span class=nb>hex</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=s2>"11001000001001101001011001000001001101001011001000"</span>
<span class=gp>... </span>        <span class=s2>"0010011010010110010000010011010010110010000010011010"</span>
<span class=gp>... </span>        <span class=s2>"01011001000001001101001011001000"</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span>
<span class=go>'0x3209a5904d2c826964134b209a5904d2c8'</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>to_hex_string</span><span class=p>(</span><span class=n>xt</span><span class=p>)</span>
<span class=go>'3209a5904d2c826964134b209a5904d2c8'</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.bitstrings.BitStrings.to_rle_str><span class="sig-name descname"><span class=pre>to_rle_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/bitstrings.html#BitStrings.to_rle_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.bitstrings.BitStrings.to_rle_str>¶</a><dd><p>Convert a numpy bit string to a run-length encoded string.</p> <p>The first bit value is stored, followed by a colon (:), followed by the run lengths separated with semicolons. The reverse operator is given as <a class="reference internal"href=#moptipy.spaces.bitstrings.BitStrings.from_rle_str title=moptipy.spaces.bitstrings.BitStrings.from_rle_str><code class="xref py py-meth docutils literal notranslate"><span class=pre>from_rle_str()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the bit string</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the run-length encoded string</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>b</span> <span class=o>=</span> <span class=n>BitStrings</span><span class=p>(</span><span class=mi>134</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>xt</span> <span class=o>=</span> <span class=n>b</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>xt</span><span class=p>[:]</span> <span class=o>=</span> <span class=p>[((</span><span class=n>i</span> <span class=o>%</span> <span class=mi>3</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=o>!=</span> <span class=p>((</span><span class=n>i</span> <span class=o>%</span> <span class=mi>7</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
<span class=gp>... </span>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>b</span><span class=o>.</span><span class=n>dimension</span><span class=p>)]</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>to_rle_str</span><span class=p>(</span><span class=n>xt</span><span class=p>)</span>
<span class=go>'F:3;1;2;2;1;1;2;1;1;2;2;1;5;1;2;2;1;1;2;1;1;2;2;1;5;1;2;2;1;1;2;1;1;2;2;1;5;1;2;2;1;1;2;1;1;2;2;1;5;1;2;2;1;1;2;1;1;2;2;1;5;1;2;2;1;1;2;1;1;2;2;1;5;1;2;2'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>b</span> <span class=o>=</span> <span class=n>BitStrings</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>xt</span> <span class=o>=</span> <span class=n>b</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>xt</span><span class=o>.</span><span class=n>fill</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>to_rle_str</span><span class=p>(</span><span class=n>xt</span><span class=p>)</span>
<span class=go>'F:5'</span>
<span class=gp>>>> </span><span class=n>xt</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>to_rle_str</span><span class=p>(</span><span class=n>xt</span><span class=p>)</span>
<span class=go>'F:1;1;3'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>b</span> <span class=o>=</span> <span class=n>BitStrings</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>xt</span> <span class=o>=</span> <span class=n>b</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>xt</span><span class=o>.</span><span class=n>fill</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>to_rle_str</span><span class=p>(</span><span class=n>xt</span><span class=p>)</span>
<span class=go>'T:5'</span>
<span class=gp>>>> </span><span class=n>xt</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>to_rle_str</span><span class=p>(</span><span class=n>xt</span><span class=p>)</span>
<span class=go>'T:4;1'</span>
<span class=gp>>>> </span><span class=n>xt</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
<span class=gp>>>> </span><span class=n>xt</span><span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
<span class=gp>>>> </span><span class=n>b</span><span class=o>.</span><span class=n>to_rle_str</span><span class=p>(</span><span class=n>xt</span><span class=p>)</span>
<span class=go>'T:3;1;1'</span>
</pre></div></div></dl></dl></section><section id=module-moptipy.spaces.intspace><span id=moptipy-spaces-intspace-module></span><h2>moptipy.spaces.intspace module<a title="Link to this heading"class=headerlink href=#module-moptipy.spaces.intspace>¶</a></h2><p>An implementation of an integer string based search space.<dl class="py class"><dt class="sig sig-object py"id=moptipy.spaces.intspace.IntSpace><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.intspace.</span></span><span class="sig-name descname"><span class=pre>IntSpace</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>dimension</span></span></em>, <em class=sig-param><span class=n><span class=pre>min_value</span></span></em>, <em class=sig-param><span class=n><span class=pre>max_value</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/intspace.html#IntSpace><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.intspace.IntSpace>¶</a><dd><p>Bases: <a class="reference internal"href=#moptipy.spaces.nparrayspace.NPArraySpace title=moptipy.spaces.nparrayspace.NPArraySpace><code class="xref py py-class docutils literal notranslate"><span class=pre>NPArraySpace</span></code></a></p> <p>A space where each element is a one-dimensional numpy integer array.</p> <p>Such spaces can serve as basis for implementing combinatorial optimization and can be extended to host permutations. Their elements are instances of <a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a>.</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>IntSpace</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=mi>99</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>dimension</span><span class=p>)</span>
<span class=go>5</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>min_value</span><span class=p>)</span>
<span class=go>-4</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>max_value</span><span class=p>)</span>
<span class=go>99</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>dtype</span><span class=p>)</span>
<span class=go>int8</span>
<span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>IntSpace</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>200</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>dtype</span><span class=p>)</span>
<span class=go>uint8</span>
<span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>IntSpace</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>202340</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>dtype</span><span class=p>)</span>
<span class=go>int32</span>
</pre></div></div> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.intspace.IntSpace.create><span class="sig-name descname"><span class=pre>create</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/intspace.html#IntSpace.create><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.intspace.IntSpace.create>¶</a><dd><p>Create an integer vector filled with the minimal value.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the vector</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipy.spaces.intspace</span><span class=w> </span><span class=kn>import</span> <span class=n>IntSpace</span>
<span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>IntSpace</span><span class=p>(</span><span class=n>dimension</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span> <span class=n>min_value</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span> <span class=n>max_value</span><span class=o>=</span><span class=mi>332</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>v</span> <span class=o>=</span> <span class=n>s</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>v</span><span class=p>))</span>
<span class=go>5;5;5;5;5;5;5;5;5;5;5;5</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=o>.</span><span class=n>dtype</span><span class=p>)</span>
<span class=go>int16</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.intspace.IntSpace.log_parameters_to><span class="sig-name descname"><span class=pre>log_parameters_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/intspace.html#IntSpace.log_parameters_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.intspace.IntSpace.log_parameters_to>¶</a><dd><p>Log the parameters of this space to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference internal"href=moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection title=moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipy.utils.logger</span><span class=w> </span><span class=kn>import</span> <span class=n>InMemoryLogger</span>
<span class=gp>>>> </span><span class=n>space</span> <span class=o>=</span> <span class=n>IntSpace</span><span class=p>(</span><span class=mi>7</span><span class=p>,</span> <span class=o>-</span><span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>space</span><span class=o>.</span><span class=n>dimension</span>
<span class=go>7</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>InMemoryLogger</span><span class=p>()</span> <span class=k>as</span> <span class=n>l</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>with</span> <span class=n>l</span><span class=o>.</span><span class=n>key_values</span><span class=p>(</span><span class=s2>"C"</span><span class=p>)</span> <span class=k>as</span> <span class=n>kv</span><span class=p>:</span>
<span class=gp>... </span>        <span class=n>space</span><span class=o>.</span><span class=n>log_parameters_to</span><span class=p>(</span><span class=n>kv</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>text</span> <span class=o>=</span> <span class=n>l</span><span class=o>.</span><span class=n>get_log</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>]</span>
<span class=go>'max: 5'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>]</span>
<span class=go>'min: -5'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>4</span><span class=p>]</span>
<span class=go>'dtype: b'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>5</span><span class=p>]</span>
<span class=go>'nvars: 7'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>6</span><span class=p>]</span>
<span class=go>'class: moptipy.spaces.intspace.IntSpace'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>7</span><span class=p>]</span>
<span class=go>'name: ints7bm5to5'</span>
<span class=gp>>>> </span><span class=nb>len</span><span class=p>(</span><span class=n>text</span><span class=p>)</span>
<span class=go>8</span>
</pre></div></div></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipy.spaces.intspace.IntSpace.max_value><span class="sig-name descname"><span class=pre>max_value</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.intspace.IntSpace.max_value>¶</a><dd><p>the upper bound, i.e., the maximum permitted value</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipy.spaces.intspace.IntSpace.min_value><span class="sig-name descname"><span class=pre>min_value</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.intspace.IntSpace.min_value>¶</a><dd><p>the lower bound, i.e., the minimum permitted value</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.intspace.IntSpace.n_points><span class="sig-name descname"><span class=pre>n_points</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/intspace.html#IntSpace.n_points><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.intspace.IntSpace.n_points>¶</a><dd><p>Get the number of possible different integer strings.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>(max_value - min_value + 1) ** dimension</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>IntSpace</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>
<span class=go>625</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.intspace.IntSpace.validate><span class="sig-name descname"><span class=pre>validate</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/intspace.html#IntSpace.validate><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.intspace.IntSpace.validate>¶</a><dd><p>Validate an integer string.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the integer string</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if the string is not an <a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a>.<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the shape or data type of the vector is wrong or any of its element is not finite or if an element is out of the bounds.</ul><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl></dl><dl class="py data"><dt class="sig sig-object py"id=moptipy.spaces.intspace.KEY_MAX><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.intspace.</span></span><span class="sig-name descname"><span class=pre>KEY_MAX</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></em><em class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'max'</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.intspace.KEY_MAX>¶</a><dd><p>the log key for the maximum value</p></dl><dl class="py data"><dt class="sig sig-object py"id=moptipy.spaces.intspace.KEY_MIN><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.intspace.</span></span><span class="sig-name descname"><span class=pre>KEY_MIN</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></em><em class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'min'</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.intspace.KEY_MIN>¶</a><dd><p>the log key for the minimum value</p></dl></section><section id=module-moptipy.spaces.nparrayspace><span id=moptipy-spaces-nparrayspace-module></span><h2>moptipy.spaces.nparrayspace module<a title="Link to this heading"class=headerlink href=#module-moptipy.spaces.nparrayspace>¶</a></h2><p>The base class for spaces based on numpy arrays.<dl class="py class"><dt class="sig sig-object py"id=moptipy.spaces.nparrayspace.NPArraySpace><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.nparrayspace.</span></span><span class="sig-name descname"><span class=pre>NPArraySpace</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>dimension</span></span></em>, <em class=sig-param><span class=n><span class=pre>dtype</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/nparrayspace.html#NPArraySpace><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.nparrayspace.NPArraySpace>¶</a><dd><p>Bases: <a class="reference internal"href=moptipy.api.html#moptipy.api.space.Space title=moptipy.api.space.Space><code class="xref py py-class docutils literal notranslate"><span class=pre>Space</span></code></a></p> <p>A space where each element is a one-dimensional <a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a>.</p> <p>Such spaces can serve as basis for implementing combinatorial optimization and can be extended to host permutations.</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>npx</span>
<span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>NPArraySpace</span><span class=p>(</span><span class=mi>9</span><span class=p>,</span> <span class=n>npx</span><span class=o>.</span><span class=n>dtype</span><span class=p>(</span><span class=nb>int</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>dimension</span><span class=p>)</span>
<span class=go>9</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>dtype</span><span class=p>)</span>
<span class=go>int64</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>create</span><span class=p>())</span>
<span class=go>[0 0 0 0 0 0 0 0 0]</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>create</span><span class=p>()))</span>
<span class=go>0;0;0;0;0;0;0;0;0</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>from_str</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>create</span><span class=p>())))</span>
<span class=go>[0 0 0 0 0 0 0 0 0]</span>
</pre></div></div> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.nparrayspace.NPArraySpace.create><span class="sig-name descname"><span class=pre>create</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/nparrayspace.html#NPArraySpace.create><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.nparrayspace.NPArraySpace.create>¶</a><dd><p>Create a vector with all zeros.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the vector</p></dl></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipy.spaces.nparrayspace.NPArraySpace.dimension><span class="sig-name descname"><span class=pre>dimension</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.nparrayspace.NPArraySpace.dimension>¶</a><dd><p>The dimension, i.e., the number of elements of the vectors.</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipy.spaces.nparrayspace.NPArraySpace.dtype><span class="sig-name descname"><span class=pre>dtype</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype><code class="xref py py-class docutils literal notranslate"><span class=pre>dtype</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.nparrayspace.NPArraySpace.dtype>¶</a><dd><p>The basic data type of the vector space elements.</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.nparrayspace.NPArraySpace.from_str><span class="sig-name descname"><span class=pre>from_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>text</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/nparrayspace.html#NPArraySpace.from_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.nparrayspace.NPArraySpace.from_str>¶</a><dd><p>Convert a string to a vector.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>text</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the text</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the vector</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>text</cite> is not a <cite>str</cite><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if <cite>text</cite> cannot be converted to a valid vector</ul></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.nparrayspace.NPArraySpace.log_parameters_to><span class="sig-name descname"><span class=pre>log_parameters_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/nparrayspace.html#NPArraySpace.log_parameters_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.nparrayspace.NPArraySpace.log_parameters_to>¶</a><dd><p>Log the parameters of this space to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference internal"href=moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection title=moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipy.utils.logger</span><span class=w> </span><span class=kn>import</span> <span class=n>InMemoryLogger</span>
<span class=gp>>>> </span><span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>npx</span>
<span class=gp>>>> </span><span class=n>dt</span> <span class=o>=</span> <span class=n>npx</span><span class=o>.</span><span class=n>dtype</span><span class=p>(</span><span class=nb>float</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>dt</span><span class=o>.</span><span class=n>char</span>
<span class=go>'d'</span>
<span class=gp>>>> </span><span class=n>space</span> <span class=o>=</span> <span class=n>NPArraySpace</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=n>dt</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>space</span><span class=o>.</span><span class=n>dimension</span>
<span class=go>10</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>InMemoryLogger</span><span class=p>()</span> <span class=k>as</span> <span class=n>l</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>with</span> <span class=n>l</span><span class=o>.</span><span class=n>key_values</span><span class=p>(</span><span class=s2>"C"</span><span class=p>)</span> <span class=k>as</span> <span class=n>kv</span><span class=p>:</span>
<span class=gp>... </span>        <span class=n>space</span><span class=o>.</span><span class=n>log_parameters_to</span><span class=p>(</span><span class=n>kv</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>text</span> <span class=o>=</span> <span class=n>l</span><span class=o>.</span><span class=n>get_log</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>]</span>
<span class=go>'dtype: d'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>]</span>
<span class=go>'nvars: 10'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>4</span><span class=p>]</span>
<span class=go>'class: moptipy.spaces.nparrayspace.NPArraySpace'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>5</span><span class=p>]</span>
<span class=go>'name: ndarray10d'</span>
<span class=gp>>>> </span><span class=nb>len</span><span class=p>(</span><span class=n>text</span><span class=p>)</span>
<span class=go>6</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.nparrayspace.NPArraySpace.to_str><span class="sig-name descname"><span class=pre>to_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/nparrayspace.html#NPArraySpace.to_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.nparrayspace.NPArraySpace.to_str>¶</a><dd><p>Convert a np-array to a string.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the array</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the string</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.nparrayspace.NPArraySpace.validate><span class="sig-name descname"><span class=pre>validate</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/nparrayspace.html#NPArraySpace.validate><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.nparrayspace.NPArraySpace.validate>¶</a><dd><p>Validate a numpy nd-array.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the numpy vector</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if the string is not an <a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a>.<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the shape or data type of the vector is wrong or any of its element is not finite.</ul><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl></dl></section><section id=module-moptipy.spaces.ordered_choices><span id=moptipy-spaces-ordered-choices-module></span><h2>moptipy.spaces.ordered_choices module<a title="Link to this heading"class=headerlink href=#module-moptipy.spaces.ordered_choices>¶</a></h2><p>Permutations of a selection (or ordered choices) as strings.<p>Imagine the following situation: We have a rectangle (two-dimensional) and want to place <cite>n</cite> other, smaller rectangles into it. Let each rectangle have a unique ID from <cite>1</cite> to <cite>n</cite>. We can use a permutation of <cite>1..n</cite> to represent the order in which we insert the small rectangles. However, maybe we want to also be able to rotate a rectangle by 90° and then place it. So additionally to the insertion order, we may want to remember whether the rectangle is placed as-is or rotated. We could do this with a “permutation of choices”, where we can place either <cite>i</cite> or <cite>-i</cite> for <cite>i</cite> from <cite>1..n</cite>. A negative value could mean “insert rotated by 90°” whereas a positive value means “insert as is”. So we have <cite>n</cite> (disjoint) choices, each of which with two options. From each choice, we can pick one value. Then the order in which the values appear marks the insertion order. So this is basically a “super space” of permutations, as it deals both with the order of the elements and their values (resulting from the selected choice).<p>A string consists of <cite>n</cite> elements. There also are <cite>n</cite> so-called “selections,” each of which being a set offering a choice from different values. Any two selections must either be entirely disjoint or equal. The final string must contain one value from each selection.<p>Let’s say that we have three selections, e.g., <cite>[1, 2, 3]</cite>, <cite>[4, 5]</cite>, and <cite>[6]</cite>. Then the “selection permutations” space contains, e.g., the string <cite>[4, 3, 6]</cite> or <cite>[2, 5, 6]</cite> – one value from each selection. It does not contain <cite>[1, 3, 5]</cite>, though, because that string has two values from the first selection.<p>This space is a super space of the <a class="reference internal"href=#module-moptipy.spaces.permutations title=moptipy.spaces.permutations><code class="xref py py-mod docutils literal notranslate"><span class=pre>permutations</span></code></a>, i.e., the space of permutations with repetitions. Sometimes (check <a class="reference internal"href=#moptipy.spaces.ordered_choices.OrderedChoices.is_compatible_with_permutations title=moptipy.spaces.ordered_choices.OrderedChoices.is_compatible_with_permutations><code class="xref py py-meth docutils literal notranslate"><span class=pre>OrderedChoices.is_compatible_with_permutations()</span></code></a>), the search operators defined in package <a class="reference internal"href=moptipy.operators.permutations.html#module-moptipy.operators.permutations title=moptipy.operators.permutations><code class="xref py py-mod docutils literal notranslate"><span class=pre>permutations</span></code></a> can also be applied to the elements of our space here, although they may not be able to explore the space in-depth (as they will not alter the choices and only permute the chosen elements).<dl class="py data"><dt class="sig sig-object py"id=moptipy.spaces.ordered_choices.KEY_CHOICES><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.ordered_choices.</span></span><span class="sig-name descname"><span class=pre>KEY_CHOICES</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></em><em class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'choices'</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.ordered_choices.KEY_CHOICES>¶</a><dd><p>the different choices</p></dl><dl class="py class"><dt class="sig sig-object py"id=moptipy.spaces.ordered_choices.OrderedChoices><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.ordered_choices.</span></span><span class="sig-name descname"><span class=pre>OrderedChoices</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>selections</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/ordered_choices.html#OrderedChoices><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.ordered_choices.OrderedChoices>¶</a><dd><p>Bases: <a class="reference internal"href=#moptipy.spaces.intspace.IntSpace title=moptipy.spaces.intspace.IntSpace><code class="xref py py-class docutils literal notranslate"><span class=pre>IntSpace</span></code></a></p> <p>Permutations of selections, stored as <a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a>.</p> <dl class="py attribute"><dt class="sig sig-object py"id=moptipy.spaces.ordered_choices.OrderedChoices.blueprint><span class="sig-name descname"><span class=pre>blueprint</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.ordered_choices.OrderedChoices.blueprint>¶</a><dd><p>The blueprint array, i.e., an ordered array holding the smallest value possible for each choice.</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipy.spaces.ordered_choices.OrderedChoices.choices><span class="sig-name descname"><span class=pre>choices</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#dict><code class="xref py py-class docutils literal notranslate"><span class=pre>dict</span></code></a><span class=pre>[</span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a><span class=pre>,</span> <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#tuple><code class="xref py py-class docutils literal notranslate"><span class=pre>tuple</span></code></a><span class=pre>[</span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a><span class=pre>,</span> <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#Ellipsis><code class="xref py py-data docutils literal notranslate"><span class=pre>...</span></code></a><span class=pre>]]]</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.ordered_choices.OrderedChoices.choices>¶</a><dd><p>the selector map</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.ordered_choices.OrderedChoices.create><span class="sig-name descname"><span class=pre>create</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/ordered_choices.html#OrderedChoices.create><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.ordered_choices.OrderedChoices.create>¶</a><dd><p>Create an ordered choice, equal to <a class="reference internal"href=#moptipy.spaces.ordered_choices.OrderedChoices.blueprint title=moptipy.spaces.ordered_choices.OrderedChoices.blueprint><code class="xref py py-attr docutils literal notranslate"><span class=pre>blueprint</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the ordered choices, an instance of <a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a>.</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>OrderedChoices</span><span class=p>([[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>5</span><span class=p>]])</span>
<span class=gp>>>> </span><span class=n>x</span> <span class=o>=</span> <span class=n>perm</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>x</span><span class=p>))</span>
<span class=go>1;1;2;5</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.ordered_choices.OrderedChoices.is_compatible_with_permutations><span class="sig-name descname"><span class=pre>is_compatible_with_permutations</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/ordered_choices.html#OrderedChoices.is_compatible_with_permutations><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.ordered_choices.OrderedChoices.is_compatible_with_permutations>¶</a><dd><p>Check whether for compatibility with permutations with repetitions.</p> <p>Or, in other words, check whether the operators in package <a class="reference internal"href=moptipy.operators.permutations.html#module-moptipy.operators.permutations title=moptipy.operators.permutations><code class="xref py py-mod docutils literal notranslate"><span class=pre>permutations</span></code></a> can safely be applied for elements of this space here.</p> <p>Permutations with repetitions are permutations where each element occurs exactly a given number of times. Our implementation of this space (<a class="reference internal"href=#module-moptipy.spaces.permutations title=moptipy.spaces.permutations><code class="xref py py-mod docutils literal notranslate"><span class=pre>permutations</span></code></a>) ensures that there are at least two different elements. The unary and binary search operators defined in package <a class="reference internal"href=moptipy.operators.permutations.html#module-moptipy.operators.permutations title=moptipy.operators.permutations><code class="xref py py-mod docutils literal notranslate"><span class=pre>permutations</span></code></a> rely on this fact. While these operators cannot explore the depth of the permutations-of-selections space here, they can be “compatible” to this space: Any element of the permutation-of-selections space is, by definition, a permutation with repetitions, as it contains one concrete manifestation per choice. Applying, for instance, a <a class="reference internal"href=moptipy.operators.permutations.html#module-moptipy.operators.permutations.op1_swap2 title=moptipy.operators.permutations.op1_swap2><code class="xref py py-mod docutils literal notranslate"><span class=pre>op1_swap2</span></code></a> operation to it, which swaps two different elements, still yields a valid and different permutation-of-selections. However, since the operators in <a class="reference internal"href=moptipy.operators.permutations.html#module-moptipy.operators.permutations title=moptipy.operators.permutations><code class="xref py py-mod docutils literal notranslate"><span class=pre>permutations</span></code></a> always enforce that the resulting point is different from their input and <em>only</em> permute the elements, this can only work if we have at least two disjoint choices in our space definition. The function here checks this.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>True</cite> if and only if the operators in package <a class="reference internal"href=moptipy.operators.permutations.html#module-moptipy.operators.permutations title=moptipy.operators.permutations><code class="xref py py-mod docutils literal notranslate"><span class=pre>permutations</span></code></a> can safely be applied to elements of this space</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.ordered_choices.OrderedChoices.log_parameters_to><span class="sig-name descname"><span class=pre>log_parameters_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/ordered_choices.html#OrderedChoices.log_parameters_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.ordered_choices.OrderedChoices.log_parameters_to>¶</a><dd><p>Log the parameters of this space to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference internal"href=moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection title=moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.ordered_choices.OrderedChoices.n_points><span class="sig-name descname"><span class=pre>n_points</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/ordered_choices.html#OrderedChoices.n_points><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.ordered_choices.OrderedChoices.n_points>¶</a><dd><p>Get the number of possible different permutations of the choices.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>[factorial(dimension) / Product(factorial(count(e)) for all e)] * Product(len(e)*count(e) for all e)</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.ordered_choices.OrderedChoices.signed_permutations><em class=property><span class=k><span class=pre>static</span></span><span class=w> </span></em><span class="sig-name descname"><span class=pre>signed_permutations</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>n</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/ordered_choices.html#OrderedChoices.signed_permutations><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.ordered_choices.OrderedChoices.signed_permutations>¶</a><dd><p>Create a space for signed permutations with values <cite>1..n</cite>.</p> <p>You would be much better off using <a class="reference internal"href=#module-moptipy.spaces.signed_permutations title=moptipy.spaces.signed_permutations><code class="xref py py-mod docutils literal notranslate"><span class=pre>signed_permutations</span></code></a> instead of this space for signed permutations, though.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>n</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the range of the values</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipy.spaces.ordered_choices.OrderedChoices title=moptipy.spaces.ordered_choices.OrderedChoices><code class="xref py py-class docutils literal notranslate"><span class=pre>OrderedChoices</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the permutations space</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>OrderedChoices</span><span class=o>.</span><span class=n>signed_permutations</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>perm</span><span class=o>.</span><span class=n>validate</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>blueprint</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>blueprint</span><span class=p>)</span>
<span class=go>[-3 -2 -1]</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>  <span class=c1># 3! * (2 ** 3) = 6 * 8 = 48</span>
<span class=go>48</span>
<span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>OrderedChoices</span><span class=o>.</span><span class=n>signed_permutations</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>perm</span><span class=o>.</span><span class=n>validate</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>blueprint</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>blueprint</span><span class=p>)</span>
<span class=go>[-4 -3 -2 -1]</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>  <span class=c1># 4! * (2 ** 4) = 24 * 16 = 384</span>
<span class=go>384</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.ordered_choices.OrderedChoices.validate><span class="sig-name descname"><span class=pre>validate</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/ordered_choices.html#OrderedChoices.validate><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.ordered_choices.OrderedChoices.validate>¶</a><dd><p>Validate a permutation of selections.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the integer string</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if the string is not an <a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a>.<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the element is not a valid permutation of the given choices</ul><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl></dl></section><section id=module-moptipy.spaces.permutations><span id=moptipy-spaces-permutations-module></span><h2>moptipy.spaces.permutations module<a title="Link to this heading"class=headerlink href=#module-moptipy.spaces.permutations>¶</a></h2><p>An implementation of a search space for permutations of a base string.<p>The base string can be a string where each element occurs exactly once, e.g., <cite>[0, 1, 2, 3]</cite> or <cite>[0, 7, 2, 5]</cite>. It could also be a string where some or all elements occur multiple times, e.g., a permutation with repetition, such as <cite>[0, 7, 7, 4, 5, 3, 3, 3]</cite> or <cite>[0, 0, 1, 1, 2, 2]</cite>. Search operators working on elements of this space are given in module <a class="reference internal"href=moptipy.operators.permutations.html#module-moptipy.operators.permutations title=moptipy.operators.permutations><code class="xref py py-mod docutils literal notranslate"><span class=pre>moptipy.operators.permutations</span></code></a>.<dl class="py data"><dt class="sig sig-object py"id=moptipy.spaces.permutations.KEY_BASE_STRING><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.permutations.</span></span><span class="sig-name descname"><span class=pre>KEY_BASE_STRING</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></em><em class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'baseString'</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.permutations.KEY_BASE_STRING>¶</a><dd><p>the base string to be permuted</p></dl><dl class="py data"><dt class="sig sig-object py"id=moptipy.spaces.permutations.KEY_REPETITIONS><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.permutations.</span></span><span class="sig-name descname"><span class=pre>KEY_REPETITIONS</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></em><em class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'repetitions'</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.permutations.KEY_REPETITIONS>¶</a><dd><p>the number of times each value must occur</p></dl><dl class="py class"><dt class="sig sig-object py"id=moptipy.spaces.permutations.Permutations><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.permutations.</span></span><span class="sig-name descname"><span class=pre>Permutations</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>base_string</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/permutations.html#Permutations><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.permutations.Permutations>¶</a><dd><p>Bases: <a class="reference internal"href=#moptipy.spaces.intspace.IntSpace title=moptipy.spaces.intspace.IntSpace><code class="xref py py-class docutils literal notranslate"><span class=pre>IntSpace</span></code></a></p> <p>A space of permutations of a base string stored as <a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a>.</p> <p>This class includes standard permutations of the form 0, 1, 2, …, n-1, but also permutations with repetitions. The idea is that a base string is defined, i.e., an array of integer values. In this array, some values may appear twice, some may be missing. For example, <cite>[1, 3, 5, 5, 7]</cite> is a proper base string. The space defined over this base string would then contain values such as <cite>[1, 3, 5, 5, 7]</cite>, <cite>[1, 5, 3, 5, 7]</cite>, <cite>[7, 5, 5, 3, 1]</cite> and so on. Basically, it will contain all strings that can be created by shuffling the base string. These strings have in common that they contain exactly all the values from the base string and contain them exactly as same as often as they appear in the base string. The space defined upon the above base string therefore would contain 5! / (1! * 1! * 2! * 1!) = 120 / 2 = 60 different strings.</p> <p>The permutation space defined above can be created as follows:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>Permutations</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>])</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>1;3;5;5;7</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=p>)</span>
<span class=go>permOfString</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>
<span class=go>60</span>
</pre></div></div> <p>Another example is this:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>Permutations</span><span class=p>((</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>1;2;2;3;3</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=p>)</span>
<span class=go>permOfString</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>
<span class=go>30</span>
</pre></div></div> <p>If you want to create a permutation with repetitions, e.g., where each of the n=4 values from 0 to 3 appear exactly 3 times, you can use the utility method <cite>with_repetitions</cite>:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>Permutations</span><span class=o>.</span><span class=n>with_repetitions</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>0;0;0;1;1;1;2;2;2;3;3;3</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=p>)</span>
<span class=go>perm4w3r</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>
<span class=go>369600</span>
</pre></div></div> <p>If you instead want to create standard permutations, i.e., where each value from 0 to n-1 appears exactly once, you would do:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>Permutations</span><span class=o>.</span><span class=n>standard</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>0;1;2;3;4</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=p>)</span>
<span class=go>perm5</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>
<span class=go>120</span>
</pre></div></div> <dl class="py attribute"><dt class="sig sig-object py"id=moptipy.spaces.permutations.Permutations.blueprint><span class="sig-name descname"><span class=pre>blueprint</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.permutations.Permutations.blueprint>¶</a><dd><p>a numpy array of the right type with the base string</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.permutations.Permutations.create><span class="sig-name descname"><span class=pre>create</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/permutations.html#Permutations.create><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.permutations.Permutations.create>¶</a><dd><p>Create a permutation equal to the base string.</p> <p>The result is of the form [0, 0, 1, 1, 1, 2, 2…].</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the permutation of the base string</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>Permutations</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>])</span>
<span class=gp>>>> </span><span class=n>x</span> <span class=o>=</span> <span class=n>perm</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>x</span><span class=p>))</span>
<span class=go>1;2;2;3;4;4;5</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.permutations.Permutations.has_repetitions><span class="sig-name descname"><span class=pre>has_repetitions</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/permutations.html#Permutations.has_repetitions><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.permutations.Permutations.has_repetitions>¶</a><dd><p>Return whether elements occur repeatedly in the base string.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>True</cite> if at least one element occurs more than once, <cite>False</cite> otherwise</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.permutations.Permutations.is_dense><span class="sig-name descname"><span class=pre>is_dense</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/permutations.html#Permutations.is_dense><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.permutations.Permutations.is_dense>¶</a><dd><p>Check if all values in <cite>min..max</cite> appear in the permutation.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>True</cite> if the permutation is dense in the sense that all values from <cite>self.min_value</cite> to <cite>self.max_value</cite> appear.</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.permutations.Permutations.log_parameters_to><span class="sig-name descname"><span class=pre>log_parameters_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/permutations.html#Permutations.log_parameters_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.permutations.Permutations.log_parameters_to>¶</a><dd><p>Log the parameters of this space to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference internal"href=moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection title=moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.permutations.Permutations.n><span class="sig-name descname"><span class=pre>n</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/permutations.html#Permutations.n><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.permutations.Permutations.n>¶</a><dd><p>Get the number of different values in the base string.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the number of different values in the base string</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.permutations.Permutations.n_points><span class="sig-name descname"><span class=pre>n_points</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/permutations.html#Permutations.n_points><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.permutations.Permutations.n_points>¶</a><dd><p>Get the number of possible different permutations of the base string.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>factorial(dimension) / Product(factorial(count(e)) for all e)</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>Permutations</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>
<span class=go>2520</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.permutations.Permutations.standard><em class=property><span class=k><span class=pre>static</span></span><span class=w> </span></em><span class="sig-name descname"><span class=pre>standard</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>n</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/permutations.html#Permutations.standard><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.permutations.Permutations.standard>¶</a><dd><p>Create a space for permutations of 0..n-1.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>n</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the range of the values</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipy.spaces.permutations.Permutations title=moptipy.spaces.permutations.Permutations><code class="xref py py-class docutils literal notranslate"><span class=pre>Permutations</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the permutations space</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.permutations.Permutations.validate><span class="sig-name descname"><span class=pre>validate</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/permutations.html#Permutations.validate><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.permutations.Permutations.validate>¶</a><dd><p>Validate a permutation of the base string.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the integer string</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if the string is not an <a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a>.<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the element is not a valid element of this permutation space, e.g., if the shape or data type of <cite>x</cite> is wrong, if an element is outside of the bounds, or if an element does not occur exactly the prescribed amount of times</ul><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.permutations.Permutations.with_repetitions><em class=property><span class=k><span class=pre>static</span></span><span class=w> </span></em><span class="sig-name descname"><span class=pre>with_repetitions</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>n</span></span></em>, <em class=sig-param><span class=n><span class=pre>repetitions</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/permutations.html#Permutations.with_repetitions><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.permutations.Permutations.with_repetitions>¶</a><dd><p>Create a space for permutations of <cite>0..n-1</cite> with repetitions.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>n</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the range of the values<li><p><strong>repetitions</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – how often each value occurs</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipy.spaces.permutations.Permutations title=moptipy.spaces.permutations.Permutations><code class="xref py py-class docutils literal notranslate"><span class=pre>Permutations</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the permutations space</p></dl></dl></dl></section><section id=module-moptipy.spaces.signed_permutations><span id=moptipy-spaces-signed-permutations-module></span><h2>moptipy.spaces.signed_permutations module<a title="Link to this heading"class=headerlink href=#module-moptipy.spaces.signed_permutations>¶</a></h2><p>A search space for signed permutations of a base string.<p>The base string can be a string where each element occurs exactly once, e.g., <cite>[1, 2, 3]</cite> or <cite>[7, 2, 5]</cite>. It could also be a string where some or all elements occur multiple times, e.g., a permutation with repetition, such as <cite>[1, 7, 7, 4, 5, 3, 3, 3]</cite> or <cite>[3, 3, 1, 1, 2, 2]</cite>. Each element may then occur either in its original (positive) value in a string or in its negated (negative) form.<p>Notice that a signed permutation can never include the element <cite>0</cite>. Therefore, some methods have different semantics compared to those in class <a class="reference internal"href=#moptipy.spaces.permutations.Permutations title=moptipy.spaces.permutations.Permutations><code class="xref py py-class docutils literal notranslate"><span class=pre>Permutations</span></code></a>.<p>Search operators working on elements of this space are given in module <a class="reference internal"href=moptipy.operators.signed_permutations.html#module-moptipy.operators.signed_permutations title=moptipy.operators.signed_permutations><code class="xref py py-mod docutils literal notranslate"><span class=pre>moptipy.operators.signed_permutations</span></code></a>, but several of those in <a class="reference internal"href=moptipy.operators.permutations.html#module-moptipy.operators.permutations title=moptipy.operators.permutations><code class="xref py py-mod docutils literal notranslate"><span class=pre>moptipy.operators.permutations</span></code></a> should work as well.<dl class="py data"><dt class="sig sig-object py"id=moptipy.spaces.signed_permutations.KEY_UNSIGNED_MIN><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.signed_permutations.</span></span><span class="sig-name descname"><span class=pre>KEY_UNSIGNED_MIN</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></em><em class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'unsignedMin'</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.signed_permutations.KEY_UNSIGNED_MIN>¶</a><dd><p>the unsigned minimum</p></dl><dl class="py class"><dt class="sig sig-object py"id=moptipy.spaces.signed_permutations.SignedPermutations><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.signed_permutations.</span></span><span class="sig-name descname"><span class=pre>SignedPermutations</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>base_string</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/signed_permutations.html#SignedPermutations><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.signed_permutations.SignedPermutations>¶</a><dd><p>Bases: <a class="reference internal"href=#moptipy.spaces.intspace.IntSpace title=moptipy.spaces.intspace.IntSpace><code class="xref py py-class docutils literal notranslate"><span class=pre>IntSpace</span></code></a></p> <p>Signed permutations of a base string stored as <a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a>.</p> <p>This class includes standard permutations of the form 1, 2, …, n, but also permutations with repetitions. The idea is that a base string is defined, i.e., an array of integer values. In this array, some values may appear twice, some may be missing. For example, <cite>[1, 3, 5, 5, 7]</cite> is a proper base string. The space defined over this base string would then contain values such as <cite>[1, 3, 5, 5, 7]</cite>, <cite>[1, 5, 3, 5, 7]</cite>, <cite>[7, 5, 5, 3, 1]</cite> and so on. Basically, it will contain all strings that can be created by shuffling the base string <em>and/or</em> negating some or all of the values, i.e., <cite>[-1, 3, -5, 5, -7]</cite> would also be possible. These strings have in common that they contain exactly all the values from the base string and contain them exactly as same as often as they appear in the base string. They can never contain <cite>0</cite>.</p> <p>The space defined upon the above base string contains (2 ** 5) * 5! / (1! * 1! * 2! * 1!) = 32 * 120 / 2 = 1920 different strings.</p> <p>The permutation space defined above can be created as follows:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>SignedPermutations</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>])</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>1;3;5;5;7</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=p>)</span>
<span class=go>signedPermOfString</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>
<span class=go>1920</span>
</pre></div></div> <p>Another example is this:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>SignedPermutations</span><span class=p>((</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>1;2;2;3;3</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=p>)</span>
<span class=go>signedPermOfString</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>
<span class=go>960</span>
</pre></div></div> <p>If you want to create a permutation with repetitions, e.g., where each of the n=4 values from 1 to 4 appear exactly 3 times, you can use the utility method <cite>with_repetitions</cite>:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>SignedPermutations</span><span class=o>.</span><span class=n>with_repetitions</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>1;1;1;2;2;2;3;3;3;4;4;4</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=p>)</span>
<span class=go>signedPerm4w3r</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>
<span class=go>1513881600</span>
</pre></div></div> <p>If you instead want to create standard permutations, i.e., where each value from 1 to n appears exactly once, you would do:</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>SignedPermutations</span><span class=o>.</span><span class=n>standard</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>1;2;3;4;5</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=p>)</span>
<span class=go>signedPerm5</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>
<span class=go>3840</span>
</pre></div></div> <p>Different from normal permutations with repetitions, it is allowed that signed permutations with repetitions contain the same element, as long as their length is larger than 1.</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>SignedPermutations</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>1;1</span>
<span class=gp>>>> </span><span class=n>x</span> <span class=o>=</span> <span class=n>perm</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>perm</span><span class=o>.</span><span class=n>validate</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>x</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span>
<span class=gp>>>> </span><span class=n>perm</span><span class=o>.</span><span class=n>validate</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span>
<span class=gp>>>> </span><span class=n>perm</span><span class=o>.</span><span class=n>validate</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>x</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
<span class=gp>>>> </span><span class=n>perm</span><span class=o>.</span><span class=n>validate</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>perm</span> <span class=o>=</span> <span class=n>SignedPermutations</span><span class=p>([</span><span class=mi>1</span><span class=p>])</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>base_string must contain at least two different elements or have at least length 2, but is [1].</span>
</pre></div></div> <dl class="py attribute"><dt class="sig sig-object py"id=moptipy.spaces.signed_permutations.SignedPermutations.blueprint><span class="sig-name descname"><span class=pre>blueprint</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.signed_permutations.SignedPermutations.blueprint>¶</a><dd><p>a numpy array of the right type with the base string</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.signed_permutations.SignedPermutations.create><span class="sig-name descname"><span class=pre>create</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/signed_permutations.html#SignedPermutations.create><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.signed_permutations.SignedPermutations.create>¶</a><dd><p>Create a permutation equal to the base string.</p> <p>The result is of the form [1, 1, 2, 2, 2, 3, 3…].</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the permutation of the base string</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>SignedPermutations</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>])</span>
<span class=gp>>>> </span><span class=n>x</span> <span class=o>=</span> <span class=n>perm</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>x</span><span class=p>))</span>
<span class=go>1;2;2;3;4;4;5</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.signed_permutations.SignedPermutations.has_repetitions><span class="sig-name descname"><span class=pre>has_repetitions</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/signed_permutations.html#SignedPermutations.has_repetitions><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.signed_permutations.SignedPermutations.has_repetitions>¶</a><dd><p>Return whether elements occur repeatedly in the base string.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>True</cite> if at least one element occurs more than once, <cite>False</cite> otherwise</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.signed_permutations.SignedPermutations.is_dense><span class="sig-name descname"><span class=pre>is_dense</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/signed_permutations.html#SignedPermutations.is_dense><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.signed_permutations.SignedPermutations.is_dense>¶</a><dd><p>Check if all values in <cite>min..max</cite> appear in the permutation.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>True</cite> if the permutation is dense in the sense that all values from <cite>self.min_value</cite> to <cite>self.max_value</cite> appear.</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.signed_permutations.SignedPermutations.log_parameters_to><span class="sig-name descname"><span class=pre>log_parameters_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/signed_permutations.html#SignedPermutations.log_parameters_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.signed_permutations.SignedPermutations.log_parameters_to>¶</a><dd><p>Log the parameters of this space to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference internal"href=moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection title=moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.signed_permutations.SignedPermutations.n><span class="sig-name descname"><span class=pre>n</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/signed_permutations.html#SignedPermutations.n><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.signed_permutations.SignedPermutations.n>¶</a><dd><p>Get the number of different values in the base string.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the number of different values in the base string</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.signed_permutations.SignedPermutations.n_points><span class="sig-name descname"><span class=pre>n_points</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/signed_permutations.html#SignedPermutations.n_points><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.signed_permutations.SignedPermutations.n_points>¶</a><dd><p>Get the number of possible different permutations of the base string.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>(2 ** dimension) * factorial(dimension) / Product(factorial(count(e)) for all e)</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>SignedPermutations</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>
<span class=go>5760</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.signed_permutations.SignedPermutations.standard><em class=property><span class=k><span class=pre>static</span></span><span class=w> </span></em><span class="sig-name descname"><span class=pre>standard</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>n</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/signed_permutations.html#SignedPermutations.standard><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.signed_permutations.SignedPermutations.standard>¶</a><dd><p>Create a space for permutations of <cite>1..n</cite>.</p> <p>Notice that this method is different compared to the method <a class="reference internal"href=#moptipy.spaces.permutations.Permutations.standard title=moptipy.spaces.permutations.Permutations.standard><code class="xref py py-meth docutils literal notranslate"><span class=pre>standard()</span></code></a> of class <a class="reference internal"href=#moptipy.spaces.permutations.Permutations title=moptipy.spaces.permutations.Permutations><code class="xref py py-class docutils literal notranslate"><span class=pre>Permutations</span></code></a> in that it starts the permutations at <cite>1</cite>, not at <cite>0</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>n</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the range of the values</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations title=moptipy.spaces.signed_permutations.SignedPermutations><code class="xref py py-class docutils literal notranslate"><span class=pre>SignedPermutations</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the permutations space</p></dl></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipy.spaces.signed_permutations.SignedPermutations.unsigned_min_value><span class="sig-name descname"><span class=pre>unsigned_min_value</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.signed_permutations.SignedPermutations.unsigned_min_value>¶</a><dd><p>the unsigned minimum</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.signed_permutations.SignedPermutations.validate><span class="sig-name descname"><span class=pre>validate</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/signed_permutations.html#SignedPermutations.validate><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.signed_permutations.SignedPermutations.validate>¶</a><dd><p>Validate a signed permutation of the base string.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the integer string</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if the string is not an <a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a>.<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the element is not a valid element of this permutation space, e.g., if the shape or data type of <cite>x</cite> is wrong, if an element is outside of the bounds, or if an element does not occur exactly the prescribed amount of times</ul><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.signed_permutations.SignedPermutations.with_repetitions><em class=property><span class=k><span class=pre>static</span></span><span class=w> </span></em><span class="sig-name descname"><span class=pre>with_repetitions</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>n</span></span></em>, <em class=sig-param><span class=n><span class=pre>repetitions</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/signed_permutations.html#SignedPermutations.with_repetitions><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.signed_permutations.SignedPermutations.with_repetitions>¶</a><dd><p>Create a space for permutations of <cite>1..n</cite> with repetitions.</p> <p>Notice that this method is different compared to the method <a class="reference internal"href=#moptipy.spaces.permutations.Permutations.with_repetitions title=moptipy.spaces.permutations.Permutations.with_repetitions><code class="xref py py-meth docutils literal notranslate"><span class=pre>with_repetitions()</span></code></a> of class <a class="reference internal"href=#moptipy.spaces.permutations.Permutations title=moptipy.spaces.permutations.Permutations><code class="xref py py-class docutils literal notranslate"><span class=pre>Permutations</span></code></a> in that it starts the permutations at <cite>1</cite>, not at <cite>0</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>n</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the range of the values<li><p><strong>repetitions</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – how often each value occurs</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations title=moptipy.spaces.signed_permutations.SignedPermutations><code class="xref py py-class docutils literal notranslate"><span class=pre>SignedPermutations</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the permutations space</p></dl></dl></dl></section><section id=module-moptipy.spaces.vectorspace><span id=moptipy-spaces-vectorspace-module></span><h2>moptipy.spaces.vectorspace module<a title="Link to this heading"class=headerlink href=#module-moptipy.spaces.vectorspace>¶</a></h2><p>An implementation of an box-constrained n-dimensional continuous space.<dl class="py data"><dt class="sig sig-object py"id=moptipy.spaces.vectorspace.KEY_LOWER_BOUND><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.vectorspace.</span></span><span class="sig-name descname"><span class=pre>KEY_LOWER_BOUND</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></em><em class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'lb'</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.vectorspace.KEY_LOWER_BOUND>¶</a><dd><p>the log key for the lower bound, i.e., the minimum permitted value</p></dl><dl class="py data"><dt class="sig sig-object py"id=moptipy.spaces.vectorspace.KEY_UPPER_BOUND><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.vectorspace.</span></span><span class="sig-name descname"><span class=pre>KEY_UPPER_BOUND</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></em><em class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'ub'</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.vectorspace.KEY_UPPER_BOUND>¶</a><dd><p>the log key for the upper bound, i.e., the maximum permitted value</p></dl><dl class="py class"><dt class="sig sig-object py"id=moptipy.spaces.vectorspace.VectorSpace><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipy.spaces.vectorspace.</span></span><span class="sig-name descname"><span class=pre>VectorSpace</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>dimension</span></span></em>, <em class=sig-param><span class=n><span class=pre>lower_bound</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>0.0</span></span></em>, <em class=sig-param><span class=n><span class=pre>upper_bound</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>1.0</span></span></em>, <em class=sig-param><span class=n><span class=pre>dtype</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>dtype('float64')</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/vectorspace.html#VectorSpace><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.vectorspace.VectorSpace>¶</a><dd><p>Bases: <a class="reference internal"href=#moptipy.spaces.nparrayspace.NPArraySpace title=moptipy.spaces.nparrayspace.NPArraySpace><code class="xref py py-class docutils literal notranslate"><span class=pre>NPArraySpace</span></code></a></p> <p>A vector space where each element is an n-dimensional real vector.</p> <p>Such spaces are useful for continuous optimization. The vectors are implemented as one-dimensional <a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a> of length <cite>n</cite>. A vector space is constraint by a box which defines the minimum and maximum permitted value for each of its <cite>n</cite> elements.</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>VectorSpace</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>dimension</span><span class=p>)</span>
<span class=go>3</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>dtype</span><span class=p>)</span>
<span class=go>float64</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>lower_bound</span><span class=p>)</span>
<span class=go>[0. 0. 0.]</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>upper_bound</span><span class=p>)</span>
<span class=go>[1. 1. 1.]</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>lower_bound_all_same</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>upper_bound_all_same</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>VectorSpace</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>lower_bound</span><span class=p>)</span>
<span class=go>[-1. -1.]</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>upper_bound</span><span class=p>)</span>
<span class=go>[5. 5.]</span>
<span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>VectorSpace</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=p>[</span><span class=o>-</span><span class=mf>1.0</span><span class=p>,</span> <span class=o>-</span><span class=mf>2.0</span><span class=p>],</span> <span class=mf>5.0</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>lower_bound</span><span class=p>)</span>
<span class=go>[-1. -2.]</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>upper_bound</span><span class=p>)</span>
<span class=go>[5. 5.]</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>lower_bound_all_same</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>upper_bound_all_same</span><span class=p>)</span>
<span class=go>True</span>
</pre></div></div> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.vectorspace.VectorSpace.clipped><span class="sig-name descname"><span class=pre>clipped</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>func</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/vectorspace.html#VectorSpace.clipped><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.vectorspace.VectorSpace.clipped>¶</a><dd><p>Wrap a function ensuring that all vectors are clipped to the bounds.</p> <p>This function is useful to ensure that only valid vectors are passed to <a class="reference internal"href=moptipy.api.html#moptipy.api.process.Process.evaluate title=moptipy.api.process.Process.evaluate><code class="xref py py-meth docutils literal notranslate"><span class=pre>evaluate()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>func</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#float><code class="xref py py-class docutils literal notranslate"><span class=pre>float</span></code></a>]</span>) – the function to wrap</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#float><code class="xref py py-class docutils literal notranslate"><span class=pre>float</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the wrapped function</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.vectorspace.VectorSpace.log_bounds><span class="sig-name descname"><span class=pre>log_bounds</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/vectorspace.html#VectorSpace.log_bounds><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.vectorspace.VectorSpace.log_bounds>¶</a><dd><p>Log the bounds of this space to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference internal"href=moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection title=moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipy.utils.logger</span><span class=w> </span><span class=kn>import</span> <span class=n>InMemoryLogger</span>
<span class=gp>>>> </span><span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>npx</span>
<span class=gp>>>> </span><span class=n>space</span> <span class=o>=</span> <span class=n>VectorSpace</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mf>5.0</span><span class=p>,</span> <span class=p>[</span><span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>])</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>InMemoryLogger</span><span class=p>()</span> <span class=k>as</span> <span class=n>l</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>with</span> <span class=n>l</span><span class=o>.</span><span class=n>key_values</span><span class=p>(</span><span class=s2>"C"</span><span class=p>)</span> <span class=k>as</span> <span class=n>kv</span><span class=p>:</span>
<span class=gp>... </span>        <span class=n>space</span><span class=o>.</span><span class=n>log_bounds</span><span class=p>(</span><span class=n>kv</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>text</span> <span class=o>=</span> <span class=n>l</span><span class=o>.</span><span class=n>get_log</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>]</span>
<span class=go>'ub: 2;3'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>]</span>
<span class=go>'lb: -5'</span>
<span class=gp>>>> </span><span class=nb>len</span><span class=p>(</span><span class=n>text</span><span class=p>)</span>
<span class=go>4</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.vectorspace.VectorSpace.log_parameters_to><span class="sig-name descname"><span class=pre>log_parameters_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/vectorspace.html#VectorSpace.log_parameters_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.vectorspace.VectorSpace.log_parameters_to>¶</a><dd><p>Log the parameters of this space to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference internal"href=moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection title=moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipy.utils.logger</span><span class=w> </span><span class=kn>import</span> <span class=n>InMemoryLogger</span>
<span class=gp>>>> </span><span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>npx</span>
<span class=gp>>>> </span><span class=n>space</span> <span class=o>=</span> <span class=n>VectorSpace</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mf>5.0</span><span class=p>,</span> <span class=p>[</span><span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>])</span>
<span class=gp>>>> </span><span class=n>space</span><span class=o>.</span><span class=n>dimension</span>
<span class=go>2</span>
<span class=gp>>>> </span><span class=n>space</span><span class=o>.</span><span class=n>dtype</span><span class=o>.</span><span class=n>char</span>
<span class=go>'d'</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>InMemoryLogger</span><span class=p>()</span> <span class=k>as</span> <span class=n>l</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>with</span> <span class=n>l</span><span class=o>.</span><span class=n>key_values</span><span class=p>(</span><span class=s2>"C"</span><span class=p>)</span> <span class=k>as</span> <span class=n>kv</span><span class=p>:</span>
<span class=gp>... </span>        <span class=n>space</span><span class=o>.</span><span class=n>log_parameters_to</span><span class=p>(</span><span class=n>kv</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>text</span> <span class=o>=</span> <span class=n>l</span><span class=o>.</span><span class=n>get_log</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>]</span>
<span class=go>'ub: 2;3'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>]</span>
<span class=go>'lb: -5'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>4</span><span class=p>]</span>
<span class=go>'dtype: d'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>5</span><span class=p>]</span>
<span class=go>'nvars: 2'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>6</span><span class=p>]</span>
<span class=go>'class: moptipy.spaces.vectorspace.VectorSpace'</span>
<span class=gp>>>> </span><span class=n>text</span><span class=p>[</span><span class=o>-</span><span class=mi>7</span><span class=p>]</span>
<span class=go>'name: r2d'</span>
<span class=gp>>>> </span><span class=nb>len</span><span class=p>(</span><span class=n>text</span><span class=p>)</span>
<span class=go>8</span>
</pre></div></div></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipy.spaces.vectorspace.VectorSpace.lower_bound><span class="sig-name descname"><span class=pre>lower_bound</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.vectorspace.VectorSpace.lower_bound>¶</a><dd><p>the lower bounds for all variables</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipy.spaces.vectorspace.VectorSpace.lower_bound_all_same><span class="sig-name descname"><span class=pre>lower_bound_all_same</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.vectorspace.VectorSpace.lower_bound_all_same>¶</a><dd><p>all dimensions have the same lower bound</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.vectorspace.VectorSpace.n_points><span class="sig-name descname"><span class=pre>n_points</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/vectorspace.html#VectorSpace.n_points><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.vectorspace.VectorSpace.n_points>¶</a><dd><p>Get an upper bound for the number of different values in this space.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>We return the approximate number of finite floating point numbers while ignoring the box constraint. This value here therefore is an upper bound.</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>npx</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>VectorSpace</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=n>dtype</span><span class=o>=</span><span class=n>npx</span><span class=o>.</span><span class=n>dtype</span><span class=p>(</span><span class=n>npx</span><span class=o>.</span><span class=n>float64</span><span class=p>))</span><span class=o>.</span><span class=n>n_points</span><span class=p>())</span>
<span class=go>6267911251143764491534102180507836301813760039183993274367</span>
</pre></div></div></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipy.spaces.vectorspace.VectorSpace.upper_bound><span class="sig-name descname"><span class=pre>upper_bound</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.vectorspace.VectorSpace.upper_bound>¶</a><dd><p>the upper bounds for all variables</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipy.spaces.vectorspace.VectorSpace.upper_bound_all_same><span class="sig-name descname"><span class=pre>upper_bound_all_same</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipy.spaces.vectorspace.VectorSpace.upper_bound_all_same>¶</a><dd><p>all dimensions have the same upper bound</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipy.spaces.vectorspace.VectorSpace.validate><span class="sig-name descname"><span class=pre>validate</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipy/spaces/vectorspace.html#VectorSpace.validate><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipy.spaces.vectorspace.VectorSpace.validate>¶</a><dd><p>Validate a vector.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the real vector</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if the string is not an <a class="reference external"title="(in NumPy v2.4)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>numpy.ndarray</span></code></a>.<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the shape of the vector is wrong or any of its element is not finite.</ul><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl></dl></section></section><div class=clearer></div></div></div></div><div aria-label=Main class=sphinxsidebar role=navigation><div class=sphinxsidebarwrapper><div><h3><a href=index.html>Table of Contents</a></h3><ul><li><a class="reference internal"href=#>moptipy.spaces package</a><ul><li><a class="reference internal"href=#submodules>Submodules</a><li><a class="reference internal"href=#module-moptipy.spaces.bitstrings>moptipy.spaces.bitstrings module</a><ul><li><a class="reference internal"href=#moptipy.spaces.bitstrings.BitStrings><code class="docutils literal notranslate"><span class=pre>BitStrings</span></code></a><ul><li><a class="reference internal"href=#moptipy.spaces.bitstrings.BitStrings.create><code class="docutils literal notranslate"><span class=pre>BitStrings.create()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.bitstrings.BitStrings.from_hex_string><code class="docutils literal notranslate"><span class=pre>BitStrings.from_hex_string()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.bitstrings.BitStrings.from_rle_str><code class="docutils literal notranslate"><span class=pre>BitStrings.from_rle_str()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.bitstrings.BitStrings.from_str><code class="docutils literal notranslate"><span class=pre>BitStrings.from_str()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.bitstrings.BitStrings.n_points><code class="docutils literal notranslate"><span class=pre>BitStrings.n_points()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.bitstrings.BitStrings.to_hex_string><code class="docutils literal notranslate"><span class=pre>BitStrings.to_hex_string()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.bitstrings.BitStrings.to_rle_str><code class="docutils literal notranslate"><span class=pre>BitStrings.to_rle_str()</span></code></a></ul></ul><li><a class="reference internal"href=#module-moptipy.spaces.intspace>moptipy.spaces.intspace module</a><ul><li><a class="reference internal"href=#moptipy.spaces.intspace.IntSpace><code class="docutils literal notranslate"><span class=pre>IntSpace</span></code></a><ul><li><a class="reference internal"href=#moptipy.spaces.intspace.IntSpace.create><code class="docutils literal notranslate"><span class=pre>IntSpace.create()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.intspace.IntSpace.log_parameters_to><code class="docutils literal notranslate"><span class=pre>IntSpace.log_parameters_to()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.intspace.IntSpace.max_value><code class="docutils literal notranslate"><span class=pre>IntSpace.max_value</span></code></a><li><a class="reference internal"href=#moptipy.spaces.intspace.IntSpace.min_value><code class="docutils literal notranslate"><span class=pre>IntSpace.min_value</span></code></a><li><a class="reference internal"href=#moptipy.spaces.intspace.IntSpace.n_points><code class="docutils literal notranslate"><span class=pre>IntSpace.n_points()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.intspace.IntSpace.validate><code class="docutils literal notranslate"><span class=pre>IntSpace.validate()</span></code></a></ul><li><a class="reference internal"href=#moptipy.spaces.intspace.KEY_MAX><code class="docutils literal notranslate"><span class=pre>KEY_MAX</span></code></a><li><a class="reference internal"href=#moptipy.spaces.intspace.KEY_MIN><code class="docutils literal notranslate"><span class=pre>KEY_MIN</span></code></a></ul><li><a class="reference internal"href=#module-moptipy.spaces.nparrayspace>moptipy.spaces.nparrayspace module</a><ul><li><a class="reference internal"href=#moptipy.spaces.nparrayspace.NPArraySpace><code class="docutils literal notranslate"><span class=pre>NPArraySpace</span></code></a><ul><li><a class="reference internal"href=#moptipy.spaces.nparrayspace.NPArraySpace.create><code class="docutils literal notranslate"><span class=pre>NPArraySpace.create()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.nparrayspace.NPArraySpace.dimension><code class="docutils literal notranslate"><span class=pre>NPArraySpace.dimension</span></code></a><li><a class="reference internal"href=#moptipy.spaces.nparrayspace.NPArraySpace.dtype><code class="docutils literal notranslate"><span class=pre>NPArraySpace.dtype</span></code></a><li><a class="reference internal"href=#moptipy.spaces.nparrayspace.NPArraySpace.from_str><code class="docutils literal notranslate"><span class=pre>NPArraySpace.from_str()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.nparrayspace.NPArraySpace.log_parameters_to><code class="docutils literal notranslate"><span class=pre>NPArraySpace.log_parameters_to()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.nparrayspace.NPArraySpace.to_str><code class="docutils literal notranslate"><span class=pre>NPArraySpace.to_str()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.nparrayspace.NPArraySpace.validate><code class="docutils literal notranslate"><span class=pre>NPArraySpace.validate()</span></code></a></ul></ul><li><a class="reference internal"href=#module-moptipy.spaces.ordered_choices>moptipy.spaces.ordered_choices module</a><ul><li><a class="reference internal"href=#moptipy.spaces.ordered_choices.KEY_CHOICES><code class="docutils literal notranslate"><span class=pre>KEY_CHOICES</span></code></a><li><a class="reference internal"href=#moptipy.spaces.ordered_choices.OrderedChoices><code class="docutils literal notranslate"><span class=pre>OrderedChoices</span></code></a><ul><li><a class="reference internal"href=#moptipy.spaces.ordered_choices.OrderedChoices.blueprint><code class="docutils literal notranslate"><span class=pre>OrderedChoices.blueprint</span></code></a><li><a class="reference internal"href=#moptipy.spaces.ordered_choices.OrderedChoices.choices><code class="docutils literal notranslate"><span class=pre>OrderedChoices.choices</span></code></a><li><a class="reference internal"href=#moptipy.spaces.ordered_choices.OrderedChoices.create><code class="docutils literal notranslate"><span class=pre>OrderedChoices.create()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.ordered_choices.OrderedChoices.is_compatible_with_permutations><code class="docutils literal notranslate"><span class=pre>OrderedChoices.is_compatible_with_permutations()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.ordered_choices.OrderedChoices.log_parameters_to><code class="docutils literal notranslate"><span class=pre>OrderedChoices.log_parameters_to()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.ordered_choices.OrderedChoices.n_points><code class="docutils literal notranslate"><span class=pre>OrderedChoices.n_points()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.ordered_choices.OrderedChoices.signed_permutations><code class="docutils literal notranslate"><span class=pre>OrderedChoices.signed_permutations()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.ordered_choices.OrderedChoices.validate><code class="docutils literal notranslate"><span class=pre>OrderedChoices.validate()</span></code></a></ul></ul><li><a class="reference internal"href=#module-moptipy.spaces.permutations>moptipy.spaces.permutations module</a><ul><li><a class="reference internal"href=#moptipy.spaces.permutations.KEY_BASE_STRING><code class="docutils literal notranslate"><span class=pre>KEY_BASE_STRING</span></code></a><li><a class="reference internal"href=#moptipy.spaces.permutations.KEY_REPETITIONS><code class="docutils literal notranslate"><span class=pre>KEY_REPETITIONS</span></code></a><li><a class="reference internal"href=#moptipy.spaces.permutations.Permutations><code class="docutils literal notranslate"><span class=pre>Permutations</span></code></a><ul><li><a class="reference internal"href=#moptipy.spaces.permutations.Permutations.blueprint><code class="docutils literal notranslate"><span class=pre>Permutations.blueprint</span></code></a><li><a class="reference internal"href=#moptipy.spaces.permutations.Permutations.create><code class="docutils literal notranslate"><span class=pre>Permutations.create()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.permutations.Permutations.has_repetitions><code class="docutils literal notranslate"><span class=pre>Permutations.has_repetitions()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.permutations.Permutations.is_dense><code class="docutils literal notranslate"><span class=pre>Permutations.is_dense()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.permutations.Permutations.log_parameters_to><code class="docutils literal notranslate"><span class=pre>Permutations.log_parameters_to()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.permutations.Permutations.n><code class="docutils literal notranslate"><span class=pre>Permutations.n()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.permutations.Permutations.n_points><code class="docutils literal notranslate"><span class=pre>Permutations.n_points()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.permutations.Permutations.standard><code class="docutils literal notranslate"><span class=pre>Permutations.standard()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.permutations.Permutations.validate><code class="docutils literal notranslate"><span class=pre>Permutations.validate()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.permutations.Permutations.with_repetitions><code class="docutils literal notranslate"><span class=pre>Permutations.with_repetitions()</span></code></a></ul></ul><li><a class="reference internal"href=#module-moptipy.spaces.signed_permutations>moptipy.spaces.signed_permutations module</a><ul><li><a class="reference internal"href=#moptipy.spaces.signed_permutations.KEY_UNSIGNED_MIN><code class="docutils literal notranslate"><span class=pre>KEY_UNSIGNED_MIN</span></code></a><li><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations><code class="docutils literal notranslate"><span class=pre>SignedPermutations</span></code></a><ul><li><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations.blueprint><code class="docutils literal notranslate"><span class=pre>SignedPermutations.blueprint</span></code></a><li><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations.create><code class="docutils literal notranslate"><span class=pre>SignedPermutations.create()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations.has_repetitions><code class="docutils literal notranslate"><span class=pre>SignedPermutations.has_repetitions()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations.is_dense><code class="docutils literal notranslate"><span class=pre>SignedPermutations.is_dense()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations.log_parameters_to><code class="docutils literal notranslate"><span class=pre>SignedPermutations.log_parameters_to()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations.n><code class="docutils literal notranslate"><span class=pre>SignedPermutations.n()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations.n_points><code class="docutils literal notranslate"><span class=pre>SignedPermutations.n_points()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations.standard><code class="docutils literal notranslate"><span class=pre>SignedPermutations.standard()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations.unsigned_min_value><code class="docutils literal notranslate"><span class=pre>SignedPermutations.unsigned_min_value</span></code></a><li><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations.validate><code class="docutils literal notranslate"><span class=pre>SignedPermutations.validate()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.signed_permutations.SignedPermutations.with_repetitions><code class="docutils literal notranslate"><span class=pre>SignedPermutations.with_repetitions()</span></code></a></ul></ul><li><a class="reference internal"href=#module-moptipy.spaces.vectorspace>moptipy.spaces.vectorspace module</a><ul><li><a class="reference internal"href=#moptipy.spaces.vectorspace.KEY_LOWER_BOUND><code class="docutils literal notranslate"><span class=pre>KEY_LOWER_BOUND</span></code></a><li><a class="reference internal"href=#moptipy.spaces.vectorspace.KEY_UPPER_BOUND><code class="docutils literal notranslate"><span class=pre>KEY_UPPER_BOUND</span></code></a><li><a class="reference internal"href=#moptipy.spaces.vectorspace.VectorSpace><code class="docutils literal notranslate"><span class=pre>VectorSpace</span></code></a><ul><li><a class="reference internal"href=#moptipy.spaces.vectorspace.VectorSpace.clipped><code class="docutils literal notranslate"><span class=pre>VectorSpace.clipped()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.vectorspace.VectorSpace.log_bounds><code class="docutils literal notranslate"><span class=pre>VectorSpace.log_bounds()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.vectorspace.VectorSpace.log_parameters_to><code class="docutils literal notranslate"><span class=pre>VectorSpace.log_parameters_to()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.vectorspace.VectorSpace.lower_bound><code class="docutils literal notranslate"><span class=pre>VectorSpace.lower_bound</span></code></a><li><a class="reference internal"href=#moptipy.spaces.vectorspace.VectorSpace.lower_bound_all_same><code class="docutils literal notranslate"><span class=pre>VectorSpace.lower_bound_all_same</span></code></a><li><a class="reference internal"href=#moptipy.spaces.vectorspace.VectorSpace.n_points><code class="docutils literal notranslate"><span class=pre>VectorSpace.n_points()</span></code></a><li><a class="reference internal"href=#moptipy.spaces.vectorspace.VectorSpace.upper_bound><code class="docutils literal notranslate"><span class=pre>VectorSpace.upper_bound</span></code></a><li><a class="reference internal"href=#moptipy.spaces.vectorspace.VectorSpace.upper_bound_all_same><code class="docutils literal notranslate"><span class=pre>VectorSpace.upper_bound_all_same</span></code></a><li><a class="reference internal"href=#moptipy.spaces.vectorspace.VectorSpace.validate><code class="docutils literal notranslate"><span class=pre>VectorSpace.validate()</span></code></a></ul></ul></ul></ul></div><div><h4>Previous topic</h4><p class=topless><a title="previous chapter"href=moptipy.operators.vectors.html>moptipy.operators.vectors package</a></div><div><h4>Next topic</h4><p class=topless><a title="next chapter"href=moptipy.tests.html>moptipy.tests package</a></div><div aria-label="source link"role=note><h3>This Page</h3><ul class=this-page-menu><li><a href=_sources/moptipy.spaces.rst.txt rel=nofollow>Show Source</a></ul></div><search id=searchbox role=search style=display:none> <h3 id=searchlabel>Quick search</h3> <div class=searchformwrapper><form action=search.html class=search><input aria-labelledby=searchlabel autocapitalize=off autocomplete=off autocorrect=off name=q spellcheck=false><input type=submit value=Go></form></div> </search><script>document.getElementById(`searchbox`).style.display=`block`;</script></div></div><div class=clearer></div></div><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="moptipy.tests package"href=moptipy.tests.html>next</a> |<li class=right><a title="moptipy.operators.vectors package"href=moptipy.operators.vectors.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>moptipy 0.9.172 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>moptipy</a> »<li class="nav-item nav-item-2"><a href=moptipy.html>moptipy package</a> »<li class="nav-item nav-item-this"><a href>moptipy.spaces package</a></ul></div><div class=footer role=contentinfo>© Copyright 2022-2026, Thomas Weise.</div>
